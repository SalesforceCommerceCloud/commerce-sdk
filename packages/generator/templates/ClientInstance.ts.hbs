import { StaticClient, BaseClient, ClientConfig, ResponseError, AuthSchemes } from "@commerce-sdk/core";

import {
{{#each models}}
{{#each declares}}
    {{#eq $classData.name "amf.client.model.domain.NodeShape"}}
        {{getValue name}}{{#unless @last}},{{/unless}}
    {{/eq}}
{{/each}}
{{/each}}
} from "./{{apiSpec}}.types";


export class Client extends BaseClient {
  constructor(config: ClientConfig) {
    super(config);

    if (!!!config.baseUri) {
      config.baseUri = "{{servers/0/url}}";
    }
    {{#each models}}
        {{#each declares}}
            {{#is ./$classData/name "amf.client.model.domain.SecurityScheme"}}
                this.authSchemes["{{./name}}"] = new AuthSchemes["{{./name}}"]();
            {{/is}}
        {{/each}}
    {{/each}}
  }

{{#each models}}
    {{> operations model=. }}
{{/each}}

}

export default Client;
export { ClientConfig };
