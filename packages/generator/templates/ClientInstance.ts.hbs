
import { StaticClient, BaseClient, ClientConfig, Response, ResponseError } from "@commerce-apps/core";
import _ from "lodash";
import { OperationOptions } from "retry";

import {
{{#each dataTypes}}
    {{#if (isTypeDefinition .)}}
        {{getValue name}}T,
    {{/if}}
{{/each}}
} from "./{{metadata.specName}}.types";

/**
* API: [{{{metadata.name}}}](https://developer.commercecloud.com/s/api-details/{{{getObjectIdByAssetId metadata.assetId}}})
* API Version: {{metadata.version}}
* Description: {{metadata.description}}
* Last Updated: {{metadata.updatedDate}}
* 
* Usage:
*
* ```typescript
*   import { {{pascalcase metadata.categories.[CC API Family].[0]}}, ClientConfig } from "commerce-sdk";
*   // or
*   const { {{pascalcase metadata.categories.[CC API Family].[0]}}, ClientConfig } = require("commerce-sdk");
*
*   const config: ClientConfig = { ... };
*   const {{metadata.specName}}Client = new {{pascalcase metadata.categories.[CC API Family].[0]}}.{{capitalize metadata.specName}}(config);
* ```
* 
* Note: When performing operations that require ShopperJWT authentication, an
* Authorization header containing a JWT can be added to the headers field of the
* ClientConfig object. The Client will use that Authorization header for all the
* operations it is used to perform.
*/
class {{capitalize metadata.specName}} extends BaseClient {
  constructor(config: ClientConfig) {
    super(config);

    if (!!!config.baseUri) {
      this.clientConfig.baseUri = "{{getBaseUri apiModel}}";
    }

  }

  {{> operationsPartial model=apiModel }}

}

// eslint-disable-next-line @typescript-eslint/no-namespace
declare module {{capitalize metadata.specName}} {
  {{#each dataTypes}}
      {{#if (isTypeDefinition .)}}
         export type {{getValue name}}={{getValue name}}T
      {{/if}}
  {{/each}}
}

export = {{capitalize metadata.specName}}